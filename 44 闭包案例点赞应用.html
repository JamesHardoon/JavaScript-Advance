<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>44 闭包案例点赞应用</title>
</head>
	<style>
		ul {
			list-style-type: none;
		}

		li {
			float: left;
			margin-left: 10px;
		}

		img {
			width: 200px;
			height: 180px;
		}

		input {
			margin-left: 30%;
		}
	</style>
<body>
	<ul>
		<li><img src="images/ly.jpg" alt=""><br/><input type="button" value="赞(1)"></li>
		<li><img src="images/lyml.jpg" alt=""><br/><input type="button" value="赞(1)"></li>
		<li><img src="images/fj.jpg" alt=""><br/><input type="button" value="赞(1)"></li>
		<li><img src="images/bd.jpg" alt=""><br/><input type="button" value="赞(1)"></li>
	</ul>

	<script>
		//获取所有的按钮
		//根据标签名字获取元素
		function my$(tagName) {
			return document.getElementsByTagName(tagName);
		}
		//闭包缓存数据
		function getValue() {
			var value = 2;
			return function () {
				//每一次点击的时候,都应该改变当前按钮的value值
				this.value = "赞("+(value++)+")";
			}
		}
		//获取所有的按钮
		var btnObjs = my$("input");
		//循环遍历每个按钮,注册点击事件
		for (var i = 0; i < btnObjs.length; i++) {
			//注册事件
			btnObjs[i].onclick = getValue();
		}
	</script>
</body>
</html>